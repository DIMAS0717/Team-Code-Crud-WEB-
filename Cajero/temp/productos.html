<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Coffee Shop</title>
  <link rel="stylesheet" href="productos.css">
</head>
<body>
<div class="container">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="logo">
      <svg width="36" height="36" viewBox="0 0 36 36"><circle cx="18" cy="18" r="18" fill="#fff"/><rect x="8" y="14" width="20" height="8" rx="4" fill="#c68644"/></svg>
      <h2>COFFEE SHOP</h2>
    </div>
    <nav class="nav">
  <a href="#" class="nav-link">
    <span class="icon">
      <!-- Home SVG -->
      <svg width="32" height="32" fill="none" stroke="#fff" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M3 12L12 3l9 9"/><path d="M9 21V9h6v12"/></svg>
    </span>
    <span class="nav-text">Inicio</span>
  </a>
  <a href="#" class="nav-link active">
    <span class="icon">
      <!-- Products SVG -->
      <svg width="32" height="32" fill="none" stroke="#fff" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><rect x="3" y="7" width="18" height="13" rx="2"/><path d="M16 3v4M8 3v4"/></svg>
    </span>
    <span class="nav-text">Productos</span>
  </a>
  <a href="#" class="nav-link">
    <span class="icon">
      <!-- Percent SVG -->
      <svg width="32" height="32" fill="none" stroke="#fff" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="7" cy="17" r="2"/><circle cx="17" cy="7" r="2"/><path d="M7 17L17 7"/></svg>
    </span>
    <span class="nav-text">Promociones</span>
  </a>
  <a href="../ControlCaja/controlcaja.html" class="nav-link">
    <span class="icon">
      <!-- Settings SVG -->
      <svg width="32" height="32" fill="none" stroke="#fff" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.09a1.65 1.65 0 0 0 1-1.51V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h.09a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v.09a1.65 1.65 0 0 0 1.51 1H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
    </span>
    <span class="nav-text">Control</span>
  </a>
  <a href="#" class="nav-link">
    <span class="icon">
      <!-- User SVG -->
      <svg width="32" height="32" fill="none" stroke="#fff" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="7" r="4"/><path d="M5.5 21a8.38 8.38 0 0 1 13 0"/></svg>
    </span>
    <span class="nav-text">Admin</span>
  </a>
</nav>
  </aside>

  <!-- Main -->
  <main class="main">
    <div class="main-scroll">
      <header class="header">
        <h1>Coffee Shop</h1>
        <div class="date">Martes, 2 de septiembre de 2025</div>
      </header>
      <section class="filters">
        <input class="search" type="search" placeholder="Buscar..." />
        <div class="cats">
          <button class="cat-btn">Frappes</button>
          <button class="cat-btn active">Cafés</button>
          <button class="cat-btn">Comida</button>
          <button class="cat-btn">Postres</button>
          <button class="cat-btn">Panes</button>
          <button class="cat-btn">Sin café</button>
          <button class="cat-btn">Temporada</button>
          <button class="cat-btn">Categorías</button>
        </div>
      </section>
      <!-- ... -->
<section class="products" aria-label="Productos">
  <article class="product-card" data-product='{"name":"Café Sencillo","desc":"Con leche","price":17.99,"img":"cafe1"}'>
    <div class="product-img"><img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=80&q=80" width="80" height="60"></div>
    <h3 class="product-title">Café Sencillo</h3>
    <p class="product-sub">Con leche</p>
    <div class="product-footer">
      <div class="price">$17.99</div>
      <button class="add-btn" aria-label="Agregar al carrito">
        <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2S15.9 22 17 22s2-.9 2-2-.9-2-2-2zM7.16 14l.84-2h7.45c.75 0 1.41-.41 1.75-1.03l3.24-5.88A1 1 0 0 0 20.45 4H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7.42c-.14 0-.25-.11-.25-.25z"/></svg>
      </button>
    </div>
  </article>
  <article class="product-card" data-product='{"name":"Capuchino","desc":"Espumoso","price":22.50,"img":"cafe2"}'>
    <div class="product-img"><img src="https://images.unsplash.com/photo-1511920170033-f8396924c348?auto=format&fit=crop&w=80&q=80" width="80" height="60"></div>
    <h3 class="product-title">Capuchino</h3>
    <p class="product-sub">Espumoso</p>
    <div class="product-footer">
      <div class="price">$22.50</div>
      <button class="add-btn" aria-label="Agregar al carrito">
        <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2S15.9 22 17 22s2-.9 2-2-.9-2-2-2zM7.16 14l.84-2h7.45c.75 0 1.41-.41 1.75-1.03l3.24-5.88A1 1 0 0 0 20.45 4H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7.42c-.14 0-.25-.11-.25-.25z"/></svg>
      </button>
    </div>
  </article>
  <article class="product-card" data-product='{"name":"Latte","desc":"Suave y cremoso","price":24.00,"img":"cafe3"}'>
    <div class="product-img"><img src="https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=80&q=80" width="80" height="60"></div>
    <h3 class="product-title">Latte</h3>
    <p class="product-sub">Suave y cremoso</p>
    <div class="product-footer">
      <div class="price">$24.00</div>
      <button class="add-btn" aria-label="Agregar al carrito">
        <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2S15.9 22 17 22s2-.9 2-2-.9-2-2-2zM7.16 14l.84-2h7.45c.75 0 1.41-.41 1.75-1.03l3.24-5.88A1 1 0 0 0 20.45 4H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7.42c-.14 0-.25-.11-.25-.25z"/></svg>
      </button>
    </div>
  </article>
  <article class="product-card" data-product='{"name":"Latte","desc":"Suave y cremoso","price":24.00,"img":"cafe3"}'>
    <div class="product-img"><img src="https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=80&q=80" width="80" height="60"></div>
    <h3 class="product-title">Aloz</h3>
    <p class="product-sub">Suave y sedoso</p>
    <div class="product-footer">
      <div class="price">$246.00</div>
      <button class="add-btn" aria-label="Agregar al carrito">
        <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2S15.9 22 17 22s2-.9 2-2-.9-2-2-2zM7.16 14l.84-2h7.45c.75 0 1.41-.41 1.75-1.03l3.24-5.88A1 1 0 0 0 20.45 4H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7.42c-.14 0-.25-.11-.25-.25z"/></svg>
      </button>
    </div>
  </article>
  <article class="product-card" data-product='{"name":"Latte","desc":"Suave y cremoso","price":24.00,"img":"cafe3"}'>
    <div class="product-img"><img src="https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=80&q=80" width="80" height="60"></div>
    <h3 class="product-title">azzzzz</h3>
    <p class="product-sub">aves y cremoso</p>
    <div class="product-footer">
      <div class="price">$242.00</div>
      <button class="add-btn" aria-label="Agregar al carrito">
        <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2S15.9 22 17 22s2-.9 2-2-.9-2-2-2zM7.16 14l.84-2h7.45c.75 0 1.41-.41 1.75-1.03l3.24-5.88A1 1 0 0 0 20.45 4H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7.42c-.14 0-.25-.11-.25-.25z"/></svg>
      </button>
    </div>
  </article>
  <article class="product-card" data-product='{"name":"Latte","desc":"Suave y cremoso","price":24.00,"img":"cafe3"}'>
    <div class="product-img"><img src="https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=80&q=80" width="80" height="60"></div>
    <h3 class="product-title">Latscste</h3>
    <p class="product-sub">Suasmoso</p>
    <div class="product-footer">
      <div class="price">$4.00</div>
      <button class="add-btn" aria-label="Agregar al carrito">
        <svg width="18" height="18" viewBox="0 0 24 24"><path fill="currentColor" d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2S15.9 22 17 22s2-.9 2-2-.9-2-2-2zM7.16 14l.84-2h7.45c.75 0 1.41-.41 1.75-1.03l3.24-5.88A1 1 0 0 0 20.45 4H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7.42c-.14 0-.25-.11-.25-.25z"/></svg>
      </button>
    </div>
  </article>
  <!-- ...agrega 17 productos más con diferentes nombres, descripciones y precios... -->
</section>
    </div>
  </main>

  <!-- Ticket / Carrito -->
  <aside class="cart">
  <div class="order-pill">
    <div class="order-title">Número de Pedido</div>
    <div class="order-number">901</div>
  </div>
  <div class="cart-content"></div>
  <div class="cart-bottom">
    <div class="summary">
      <div class="row"><span>Sub Total:</span> <span class="summary-subtotal">$0.00</span></div>
      <div class="row"><span>IVA:</span> <span class="summary-iva">$0.00</span></div>
      <div class="row total"><span>Total:</span> <span class="summary-total">$0.00</span></div>
    </div>
    <button class="pay">PAGAR</button>
  </div>
</aside>

</div>

<!-- Modal producto -->
<div id="modal-bg" class="modal-bg" style="display:none;">
  <div class="modal-producto">
    <h2 id="modal-title"></h2>
    <div class="modal-options">
      <label for="modal-leche">Tipo de leche:</label>
      <select id="modal-leche">
        <option>Entera</option>
        <option>Deslactosada</option>
        <option>Light</option>
        <option>Almendra</option>
        <option>Coco</option>
      </select>
      <label for="modal-tamano">Tamaño:</label>
      <select id="modal-tamano">
        <option>Chico</option>
        <option>Mediano</option>
        <option>Grande</option>
      </select>
    </div>
    <div class="modal-actions">
      <button class="modal-btn" id="modal-cancelar">Cancelar</button>
      <button class="modal-btn" id="modal-agregar">Agregar</button>
    </div>
  </div>
</div>

<script>
// --- Utilidad para obtener productos del grid ---
function getProductData(card) {
  return {
    name: card.querySelector('.product-title').textContent,
    desc: card.querySelector('.product-sub').textContent,
    price: parseFloat(card.querySelector('.price').textContent.replace('$','')),
    img: card.querySelector('.product-img').innerHTML
  };
}

// --- Manejo del carrito ---
const cartList = [];
const cartContent = document.querySelector('.cart-content');
const summarySubtotal = document.querySelector('.summary-subtotal');
const summaryIVA = document.querySelector('.summary-iva');
const summaryTotal = document.querySelector('.summary-total');

function renderCart() {
  cartContent.innerHTML = '';
  let subtotal = 0;
  cartList.forEach((item, idx) => {
    subtotal += item.price * item.qty;
    const div = document.createElement('div');
    div.className = 'cart-item';
div.innerHTML = `
  <div class="cart-thumb">${item.img}</div>
  <div class="cart-info">
    <div class="cart-title">${item.name}</div>
    <div class="cart-desc">${item.desc} - ${item.leche} - ${item.tamano}</div>
    <div class="cart-price">$${item.price.toFixed(2)}</div>
  </div>
  <div class="cart-qty">
    <button class="qty-btn" data-idx="${idx}" data-action="minus">-</button>
    <div class="qty-num">${item.qty.toString().padStart(2,'0')}</div>
    <button class="qty-btn" data-idx="${idx}" data-action="plus">+</button>
  </div>
`;
    cartContent.appendChild(div);
  });
  summarySubtotal.textContent = `$${subtotal.toFixed(2)}`;
  const iva = subtotal * 0.16;
  summaryIVA.textContent = `$${iva.toFixed(2)}`;
  summaryTotal.textContent = `$${(subtotal + iva).toFixed(2)}`;
}

cartContent.addEventListener('click', e => {
  if(e.target.classList.contains('qty-btn')) {
    const idx = +e.target.dataset.idx;
    const action = e.target.dataset.action;
    if(action === 'plus') cartList[idx].qty += 1;
    if(action === 'minus') {
      cartList[idx].qty -= 1;
      if(cartList[idx].qty <= 0) cartList.splice(idx,1);
    }
    renderCart();
  }
});

// --- Modal producto ---
const modalBg = document.getElementById('modal-bg');
const modalTitle = document.getElementById('modal-title');
const modalLeche = document.getElementById('modal-leche');
const modalTamano = document.getElementById('modal-tamano');
let modalProduct = null;

// Mostrar modal al hacer click en producto
document.querySelectorAll('.product-card').forEach(card => {
  card.addEventListener('click', e => {
    if(e.target.closest('.add-btn')) return;
    modalProduct = getProductData(card);
    modalTitle.textContent = modalProduct.name;
    modalLeche.selectedIndex = 0;
    modalTamano.selectedIndex = 0;
    modalBg.style.display = 'flex';
  });
});

// Cerrar modal si se da click fuera del modal
modalBg.addEventListener('click', e => {
  if(e.target === modalBg) modalBg.style.display = 'none';
});
document.getElementById('modal-cancelar').onclick = () => modalBg.style.display = 'none';

// Agregar al carrito desde el modal
document.getElementById('modal-agregar').onclick = () => {
  if(!modalProduct) return;
  const leche = modalLeche.value;
  const tamano = modalTamano.value;
  const data = {...modalProduct, leche, tamano};
  const idx = cartList.findIndex(p => p.name === data.name && p.desc === data.desc && p.leche === data.leche && p.tamano === data.tamano);
  if(idx >= 0) {
    cartList[idx].qty += 1;
  } else {
    cartList.push({...data, qty: 1});
  }
  renderCart();
  modalBg.style.display = 'none';
};

// --- Agregar producto directo (botón carrito) ---
document.querySelectorAll('.add-btn').forEach(btn => {
  btn.addEventListener('click', e => {
    e.stopPropagation();
    const card = btn.closest('.product-card');
    const data = getProductData(card);
    // Por defecto: leche "Entera", tamaño "Chico"
    const leche = "Entera";
    const tamano = "Chico";
    const idx = cartList.findIndex(p => p.name === data.name && p.desc === data.desc && p.leche === leche && p.tamano === tamano);
    if(idx >= 0) {
      cartList[idx].qty += 1;
    } else {
      cartList.push({...data, leche, tamano, qty: 1});
    }
    renderCart();
  });
});

renderCart();
</script>


</body>
</html>